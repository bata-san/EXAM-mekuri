<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>åœ°ç† é«˜å¯†åº¦ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚·ã‚¹ãƒ†ãƒ </title>
    <style>
        :root {
            --bg-color: #f4f6f9; --card-bg: #ffffff; --primary-color: #3b82f6;
            --success-color: #10b981; --danger-color: #ef4444; --warning-color: #f59e0b;
            --text-color: #1f2937; --sub-text-color: #6b7280; --shadow-color: rgba(0, 0, 0, 0.1);
        }
        html, body { 
            height: 100%; margin: 0; padding: 0; overflow: hidden; 
            font-family: 'Hiragino Kaku Gothic ProN', 'Meiryo', sans-serif;
            background-color: var(--bg-color); color: var(--text-color);
        }
        .app-container { display: flex; flex-direction: column; height: 100%; }
        
        /* Dashboard Screen */
        #dashboard { 
            display: flex; flex-direction: column; justify-content: center; 
            align-items: center; height: 100%; padding: 20px; box-sizing: border-box; text-align: center;
        }
        #dashboard h1 { color: var(--primary-color); margin-bottom: 10px; font-size: 32px; }
        #dashboard p { color: var(--sub-text-color); margin-top: 0; margin-bottom: 30px; }
        .stats-grid { 
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px; 
            width: 100%; max-width: 400px; margin: 20px 0; 
        }
        .stat-box { 
            background: var(--card-bg); padding: 15px; border-radius: 12px; 
            text-align: center; box-shadow: 0 4px 12px var(--shadow-color); 
        }
        .stat-box .label { font-size: 14px; color: var(--sub-text-color); margin-bottom: 5px; }
        .stat-box .value { font-size: 28px; font-weight: bold; }
        #review-value { color: var(--warning-color); }
        #mastered-value { color: var(--success-color); }
        .start-btn { 
            width: 100%; max-width: 400px; padding: 18px; font-size: 20px; 
            font-weight: bold; cursor: pointer; border: none; border-radius: 12px; 
            background-color: var(--primary-color); color: white; margin-top: 10px; 
            transition: all 0.2s;
        }
        .start-btn:hover { filter: brightness(1.1); }
        .start-btn:active { transform: scale(0.98); }
        
        /* Study Screen */
        #study-screen { display: none; flex-direction: column; height: 100%; }
        .study-header { 
            padding: 15px; text-align: center; background: var(--card-bg); 
            box-shadow: 0 2px 4px var(--shadow-color); z-index: 10; position: relative;
        }
        .progress-info { font-size: 18px; font-weight: 600; color: var(--primary-color); }
        
        /* Card Area */
        .card-area { 
            flex-grow: 1; display: flex; justify-content: center; 
            align-items: center; padding: 20px; overflow: hidden; position: relative;
        }
        .card { 
            width: 100%; max-width: 450px; background: var(--card-bg);
            border-radius: 16px; box-shadow: 0 8px 30px var(--shadow-color);
            padding: 30px; box-sizing: border-box;
            transition: all 0.3s ease;
        }
        .topic-tag { 
            background: var(--primary-color); color: white;
            font-size: 12px; padding: 6px 12px; border-radius: 20px; 
            font-weight: 600; display: inline-block; margin-bottom: 20px;
        }
        .question { font-size: 20px; font-weight: 600; line-height: 1.5; margin-bottom: 25px; }
        
        /* Active Recall Input */
        .recall-section { text-align: center; }
        #recall-input {
            width: 100%; padding: 12px 15px; font-size: 16px;
            border: 2px solid #ddd; border-radius: 8px; box-sizing: border-box;
            margin-bottom: 15px;
        }
        #recall-input:focus { border-color: var(--primary-color); outline: none; }
        #submit-answer-btn {
            width: 100%; padding: 12px; font-size: 16px; font-weight: bold;
            cursor: pointer; border: none; border-radius: 8px;
            background-color: var(--primary-color); color: white;
        }

        /* Answer Section */
        #answer-section { display: none; margin-top: 25px; }
        .answer-header { font-size: 14px; color: var(--sub-text-color); font-weight: bold; margin-bottom: 5px; }
        .answer-box { 
            padding: 15px; border-radius: 8px; margin-bottom: 20px; 
            border: 2px solid;
        }
        .answer-box[data-correct="true"] { border-color: var(--success-color); background-color: #f0fdf4;}
        .answer-box[data-correct="false"] { border-color: var(--danger-color); background-color: #fff1f2;}
        .answer-content { font-size: 18px; font-weight: bold; line-height: 1.4; margin-bottom: 10px;}
        .user-answer { font-size: 14px; color: var(--sub-text-color); word-break: break-all; }
        .user-answer strong { color: var(--text-color); }
        
        /* Elaboration Section */
        #elaboration-section { text-align: center; }
        #elaboration-section p { font-size: 16px; font-weight: 500; margin-bottom: 15px; }
        .elaboration-btns { display: flex; gap: 15px; }
        .elaboration-btn {
            flex: 1; padding: 15px; font-size: 16px; font-weight: bold;
            cursor: pointer; border-radius: 8px; border: 2px solid;
            background: transparent; transition: all 0.2s;
        }
        .btn-confident { border-color: var(--success-color); color: var(--success-color); }
        .btn-confident:hover { background: var(--success-color); color: white; }
        .btn-not-confident { border-color: var(--warning-color); color: var(--warning-color); }
        .btn-not-confident:hover { background: var(--warning-color); color: white; }
        
        #back-to-dash { 
            position: fixed; top: 15px; right: 15px; z-index: 200; 
            background: rgba(0,0,0,0.1); color: var(--text-color); border-radius: 50%; 
            width: 40px; height: 40px; display: flex; justify-content: center; 
            align-items: center; font-weight: bold; cursor: pointer; border: 1px solid #ddd;
        }
        strong { color: var(--primary-color); }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Dashboard Screen -->
        <div id="dashboard">
            <h1>é«˜å¯†åº¦ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°</h1>
            <p>æ¤œç´¢ç·´ç¿’ãƒ»ç²¾ç·»åŒ–ãƒ»äº¤éŒ¯å­¦ç¿’ã§çŸ¥è­˜ã‚’è„³ã«åˆ»ã¿è¾¼ã‚€</p>
            <div class="stats-grid">
                <div class="stat-box"><div class="label">å…¨å•é¡Œæ•°</div><div class="value" id="total-value">0</div></div>
                <div class="stat-box"><div class="label">è¦å¾©ç¿’</div><div class="value" id="review-value">0</div></div>
            </div>
            <button class="start-btn" id="start-btn">å­¦ç¿’ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’é–‹å§‹</button>
            <button class="start-btn" id="reset-progress" style="margin-top:20px; background-color: #9ca3af; font-size: 14px;">å­¦ç¿’è¨˜éŒ²ã‚’ãƒªã‚»ãƒƒãƒˆ</button>
        </div>

        <!-- Study Screen -->
        <div id="study-screen">
            <div class="study-header">
                <div class="progress-info" id="progress-info"></div>
            </div>
            <div class="card-area" id="card-area">
                <div class="card">
                    <span class="topic-tag" id="topic-tag"></span>
                    <p class="question" id="question"></p>
                    
                    <div class="recall-section" id="recall-section">
                        <input type="text" id="recall-input" placeholder="ç­”ãˆã‚’å…¥åŠ›...">
                        <button id="submit-answer-btn">å›ç­”ã‚’ç¢ºå®š</button>
                    </div>

                    <div id="answer-section">
                        <div class="answer-box" id="answer-box">
                           <div class="answer-header">æ­£è§£</div>
                           <p class="answer-content" id="answer-content"></p>
                           <p class="user-answer">ã‚ãªãŸã®å›ç­”: <strong id="user-answer-text"></strong></p>
                        </div>
                        <div id="elaboration-section">
                            <p>ã“ã®ç­”ãˆã®ç†ç”±ã‚„èƒŒæ™¯ã‚’èª¬æ˜ã§ãã¾ã™ã‹ï¼Ÿ</p>
                            <div class="elaboration-btns">
                                <button class="elaboration-btn btn-not-confident" id="eval-not-confident">è‡ªä¿¡ãªã—</button>
                                <button class="elaboration-btn btn-confident" id="eval-confident">è‡ªä¿¡ã‚ã‚Š</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="back-to-dash" title="ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹">âœ•</div>
        </div>
    </div>

    <script>
    const initialCardData = [
        // (å‰å›ã®ã‚³ãƒ¼ãƒ‰ã¨åŒã˜ãƒ‡ãƒ¼ã‚¿ãªã®ã§çœç•¥)
        // ç­”ãˆã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’æŠ½å‡ºã™ã‚‹ãŸã‚ã€a (answer) ã«åŠ ãˆã¦ simple_a (simple answer) ã‚’è¿½åŠ 
        // --- åœ°å½¢ ---
        { topic: "åœ°å½¢/æ°·æ²³åœ°å½¢", q: "æ°·æ²³ã®ä¾µé£Ÿã§ã§ããŸUå­—è°·ã«æµ·æ°´ãŒä¾µå…¥ã—ã¦ã§ããŸæµ·å²¸åœ°å½¢ã¯ï¼Ÿ", a: "<strong>ãƒ•ã‚£ãƒ¨ãƒ«ãƒ‰</strong>", simple_a: "ãƒ•ã‚£ãƒ¨ãƒ«ãƒ‰", related: [1, 2] },
        { topic: "åœ°å½¢/æ°·æ²³åœ°å½¢", q: "æ°·æ²³ãŒå±±é ‚ä»˜è¿‘ã‚’å‰Šã£ã¦ã§ããŸã€ãŠæ¤€å‹ã®è°·ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "<strong>ã‚«ãƒ¼ãƒ«ï¼ˆåœè°·ï¼‰</strong>", simple_a: "ã‚«ãƒ¼ãƒ«,åœè°·", related: [0, 2] },
        { topic: "åœ°å½¢/æ°·æ²³åœ°å½¢", q: "æ°·æ²³ãŒé‹ã‚“ã åœŸç ‚ãŒå †ç©ã—ã¦ã§ããŸä¸˜ã‚’ä½•ã¨å‘¼ã¶ã‹ï¼Ÿ", a: "<strong>ãƒ¢ãƒ¬ãƒ¼ãƒ³</strong>", simple_a: "ãƒ¢ãƒ¬ãƒ¼ãƒ³", related: [0, 1] },
        { topic: "åœ°å½¢/æ²³å·åœ°å½¢", q: "æ²³å·ãŒå±±åœ°ã‹ã‚‰å¹³é‡ã«å‡ºã‚‹æ‰€ã«ã§ãã‚‹ã€æ‰‡çŠ¶ã®åœ°å½¢ã¯ï¼Ÿ", a: "<strong>æ‰‡çŠ¶åœ°</strong>", simple_a: "æ‰‡çŠ¶åœ°", related: [4, 5, 6, 10] },
        { topic: "åœ°å½¢/æ²³å·åœ°å½¢", q: "æ‰‡çŠ¶åœ°ã®ä¸­å¤®éƒ¨ï¼ˆæ‰‡å¤®ï¼‰ã§ã‚ˆãè¦‹ã‚‰ã‚Œã‚‹ã€æ™®æ®µã¯æ°´ãŒæµã‚Œãªã„å·ã¯ï¼Ÿ", a: "<strong>æ°´ç„¡å·</strong>", simple_a: "æ°´ç„¡å·", related: [3, 5, 13] },
        { topic: "åœ°å½¢/æ²³å·åœ°å½¢", q: "æ‰‡çŠ¶åœ°ã®æœ«ç«¯ï¼ˆæ‰‡ç«¯ï¼‰ã§ã¯ã€ä½•ãŒæ¹§ãå‡ºã™ãŸã‚é›†è½ãŒç™ºé”ã—ã‚„ã™ã„ã‹ï¼Ÿ", a: "<strong>æ¹§æ°´</strong>", simple_a: "æ¹§æ°´", related: [3, 4] },
        // ... ä»–ã®ãƒ‡ãƒ¼ã‚¿ã‚‚åŒæ§˜ã« simple_a ã‚’è¿½åŠ ã—ã¦ãã ã•ã„
        { topic: "ç”Ÿæ´»ãƒ»æ¤ç”Ÿãƒ»åœŸå£Œ/å¯’å¸¯ãƒ»é«˜å±±", q: "ã‚¢ãƒ³ãƒ‡ã‚¹å±±è„ˆãªã©ã®é«˜å±±æ°—å€™(H)ã§é£¼è‚²ã•ã‚Œã‚‹å®¶ç•œ2ç¨®ã¯ï¼Ÿ", a: "<strong>ãƒªãƒ£ãƒ</strong>ã€<strong>ã‚¢ãƒ«ãƒ‘ã‚«</strong>", simple_a: "ãƒªãƒ£ãƒ,ã‚¢ãƒ«ãƒ‘ã‚«", related: [59, 77] }
    ];

    // å…¨ãƒ‡ãƒ¼ã‚¿ã« `simple_a` ãŒãªã„ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã®ã§ã€æš«å®šçš„ã«å…¨ãƒ‡ãƒ¼ã‚¿ã« `simple_a` ã‚’ç”Ÿæˆã™ã‚‹
    initialCardData.forEach(card => {
        if (!card.simple_a) {
            // HTMLã‚¿ã‚°ã‚’é™¤å»ã—ã€ä¸»è¦ãªå˜èªã‚’æŠ½å‡ºã™ã‚‹ç°¡æ˜“çš„ãªå‡¦ç†
            card.simple_a = card.a.replace(/<strong>/g, '').replace(/<\/strong>/g, '').split('ï¼ˆ')[0].trim();
        }
    });


    document.addEventListener('DOMContentLoaded', () => {
        const App = {
            // --- çŠ¶æ…‹ç®¡ç† ---
            state: {
                cardData: [],
                cardScores: [], // { id, score } score: 0-100
                studyQueue: [],
                currentIndex: 0,
                currentCard: null,
            },

            // --- DOMã‚­ãƒ£ãƒƒã‚·ãƒ¥ ---
            dom: {},

            // --- å®šæ•° ---
            STORAGE_KEY: 'geoEncodingSystem_v1',
            SCORE_INCREMENT: 10, // è‡ªä¿¡ã‚ã‚Š
            SCORE_DECREMENT: 20, // è‡ªä¿¡ãªã—
            SCORE_THRESHOLD: 80, // å¾©ç¿’å¯¾è±¡ã‹ã‚‰å¤–ã‚Œã‚‹ã‚¹ã‚³ã‚¢

            // --- åˆæœŸåŒ– ---
            init() {
                this.cacheDOM();
                this.state.cardData = initialCardData.map((card, index) => ({ ...card, id: index }));
                this.loadScores();
                this.updateDashboard();
                this.bindEvents();
                this.showDashboard();
            },

            cacheDOM() {
                this.dom = {
                    dashboard: document.getElementById('dashboard'),
                    studyScreen: document.getElementById('study-screen'),
                    progressInfo: document.getElementById('progress-info'),
                    topicTag: document.getElementById('topic-tag'),
                    question: document.getElementById('question'),
                    recallSection: document.getElementById('recall-section'),
                    recallInput: document.getElementById('recall-input'),
                    submitAnswerBtn: document.getElementById('submit-answer-btn'),
                    answerSection: document.getElementById('answer-section'),
                    answerBox: document.getElementById('answer-box'),
                    answerContent: document.getElementById('answer-content'),
                    userAnswerText: document.getElementById('user-answer-text'),
                    elaborationSection: document.getElementById('elaboration-section'),
                    evalConfidentBtn: document.getElementById('eval-confident'),
                    evalNotConfidentBtn: document.getElementById('eval-not-confident'),
                    startBtn: document.getElementById('start-btn'),
                    resetProgressBtn: document.getElementById('reset-progress'),
                    backToDashBtn: document.getElementById('back-to-dash'),
                };
            },

            bindEvents() {
                this.dom.startBtn.addEventListener('click', () => this.startStudy());
                this.dom.resetProgressBtn.addEventListener('click', () => this.resetProgress());
                this.dom.backToDashBtn.addEventListener('click', () => this.showDashboard());
                this.dom.submitAnswerBtn.addEventListener('click', () => this.checkAnswer());
                this.dom.recallInput.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') this.checkAnswer();
                });
                this.dom.evalConfidentBtn.addEventListener('click', () => this.evaluate(true));
                this.dom.evalNotConfidentBtn.addEventListener('click', () => this.evaluate(false));
            },

            // --- ãƒ‡ãƒ¼ã‚¿ç®¡ç† ---
            loadScores() {
                let savedData;
                try {
                    savedData = JSON.parse(localStorage.getItem(this.STORAGE_KEY));
                    if (!Array.isArray(savedData) || savedData.length !== this.state.cardData.length) {
                        savedData = null;
                    }
                } catch (e) { savedData = null; }
                this.state.cardScores = savedData || this.state.cardData.map(c => ({ id: c.id, score: 0 }));
                this.saveScores();
            },

            saveScores() {
                try {
                    localStorage.setItem(this.STORAGE_KEY, JSON.stringify(this.state.cardScores));
                } catch (e) { console.error("Save failed:", e); }
            },

            resetProgress() {
                if (confirm('âš ï¸ ã™ã¹ã¦ã®å­¦ç¿’è¨˜éŒ²ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ')) {
                    this.state.cardScores = this.state.cardData.map(c => ({ id: c.id, score: 0 }));
                    this.saveScores();
                    this.updateDashboard();
                    alert('å­¦ç¿’è¨˜éŒ²ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸã€‚');
                }
            },

            // --- UIåˆ¶å¾¡ ---
            updateDashboard() {
                document.getElementById('total-value').textContent = this.state.cardData.length;
                const reviewCount = this.state.cardScores.filter(s => s.score < this.SCORE_THRESHOLD).length;
                document.getElementById('review-value').textContent = reviewCount;
            },

            showDashboard() {
                this.dom.dashboard.style.display = 'flex';
                this.dom.studyScreen.style.display = 'none';
                this.updateDashboard();
            },
            
            // --- å­¦ç¿’ãƒ•ãƒ­ãƒ¼ ---
            startStudy() {
                // ã‚¤ãƒ³ã‚¿ãƒ¼ãƒªãƒ¼ãƒ“ãƒ³ã‚°ãƒ»ã‚­ãƒ¥ãƒ¼ã‚’ç”Ÿæˆ
                const reviewCards = this.state.cardScores.filter(s => s.score < this.SCORE_THRESHOLD);
                if (reviewCards.length === 0) {
                    alert("ğŸ‰ å…¨å•ãƒã‚¹ã‚¿ãƒ¼æ¸ˆã¿ã§ã™ï¼ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼");
                    return;
                }
                
                this.state.studyQueue = this.createInterleavedQueue(reviewCards.map(c => c.id));
                this.state.currentIndex = 0;

                this.dom.dashboard.style.display = 'none';
                this.dom.studyScreen.style.display = 'flex';
                this.renderCard(this.state.studyQueue[0]);
            },
            
            createInterleavedQueue(cardIds) {
                // ãƒˆãƒ”ãƒƒã‚¯ã”ã¨ã«ã‚«ãƒ¼ãƒ‰ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
                const groupedByTopic = {};
                cardIds.forEach(id => {
                    const topic = this.state.cardData[id].topic.split('/')[0]; // å¤§åˆ†é¡ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
                    if (!groupedByTopic[topic]) {
                        groupedByTopic[topic] = [];
                    }
                    groupedByTopic[topic].push(id);
                });

                // å„ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«
                for (const topic in groupedByTopic) {
                    this.shuffleArray(groupedByTopic[topic]);
                }

                const interleavedQueue = [];
                const topics = Object.keys(groupedByTopic);
                let lastTopic = null;

                while(interleavedQueue.length < cardIds.length) {
                    // å‰å›ã¨é•ã†ãƒˆãƒ”ãƒƒã‚¯ã‚’å„ªå…ˆçš„ã«é¸æŠ
                    let availableTopics = topics.filter(t => groupedByTopic[t].length > 0 && t !== lastTopic);
                    if (availableTopics.length === 0) {
                        availableTopics = topics.filter(t => groupedByTopic[t].length > 0);
                    }
                    
                    const nextTopic = availableTopics[Math.floor(Math.random() * availableTopics.length)];
                    const nextCardId = groupedByTopic[nextTopic].shift();
                    interleavedQueue.push(nextCardId);
                    lastTopic = nextTopic;
                }
                
                return interleavedQueue;
            },

            renderCard(cardId) {
                this.state.currentCard = this.state.cardData.find(c => c.id === cardId);
                const { topic, q } = this.state.currentCard;

                this.dom.topicTag.textContent = topic;
                this.dom.question.textContent = q;
                
                this.dom.progressInfo.textContent = `æ®‹ã‚Š ${this.state.studyQueue.length - this.state.currentIndex} å•`;

                // UIã‚’åˆæœŸçŠ¶æ…‹ã«æˆ»ã™
                this.dom.recallSection.style.display = 'block';
                this.dom.answerSection.style.display = 'none';
                this.dom.recallInput.value = '';
                this.dom.recallInput.focus();
            },

            checkAnswer() {
                const userAnswer = this.dom.recallInput.value.trim();
                if (!userAnswer) return;

                const { a, simple_a } = this.state.currentCard;
                
                // è¤‡æ•°ã®æ­£è§£ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«å¯¾å¿œ
                const correctKeywords = simple_a.split(',').map(k => k.trim());
                const isCorrect = correctKeywords.some(keyword => userAnswer.includes(keyword));
                
                // å›ç­”è¡¨ç¤ºã‚¨ãƒªã‚¢ã®æº–å‚™
                this.dom.answerContent.innerHTML = a;
                this.dom.userAnswerText.textContent = userAnswer;
                this.dom.answerBox.dataset.correct = isCorrect;
                
                // UIåˆ‡ã‚Šæ›¿ãˆ
                this.dom.recallSection.style.display = 'none';
                this.dom.answerSection.style.display = 'block';
            },

            evaluate(isConfident) {
                const cardScore = this.state.cardScores.find(s => s.id === this.state.currentCard.id);
                
                if (isConfident) {
                    cardScore.score = Math.min(100, cardScore.score + this.SCORE_INCREMENT);
                } else {
                    cardScore.score = Math.max(0, cardScore.score - this.SCORE_DECREMENT);
                }
                
                this.saveScores();
                this.proceedToNextCard();
            },

            proceedToNextCard() {
                this.state.currentIndex++;
                if (this.state.currentIndex < this.state.studyQueue.length) {
                    const nextCardId = this.state.studyQueue[this.state.currentIndex];
                    // ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆãƒ»ã‚¤ãƒ³ã®ã‚ˆã†ãªæ¼”å‡ºï¼ˆç°¡æ˜“ç‰ˆï¼‰
                    this.dom.studyScreen.querySelector('.card').style.opacity = 0;
                    setTimeout(() => {
                        this.renderCard(nextCardId);
                        this.dom.studyScreen.querySelector('.card').style.opacity = 1;
                    }, 300);
                } else {
                    alert("ğŸ‰ å­¦ç¿’ã‚»ãƒƒã‚·ãƒ§ãƒ³å®Œäº†ï¼");
                    this.showDashboard();
                }
            },

            // --- ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ ---
            shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }
        };

        App.init();
    });
    </script>
</body>
</html>